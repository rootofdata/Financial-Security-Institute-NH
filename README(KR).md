## 주제: 온라인 품목별 소비 데이터와 주가지수의 상관관계 분석 및 예측 모델 개발
- 온라인 품목별 소비 데이터와 소비와 관련된 설명변수들을 이용하여 주가지수와의 상관관계를 파악하고 주가지수에 미치는 정도를 비교한다. 
- 주가지수의 움직임과 관련성이 큰 변수들을 추출하여 회귀모형을 개발하고 이를 통해 미래의 주가 방향성에 대해 예측한다.
![image](https://github.com/rootofdata/Financial-Security-Institute-NH/assets/86711374/4c58d1fe-5ab5-43fc-8201-3481bf6da632)

### 배경 및 필요성
- **소비에 대한 관심 증가**: COVID-19 팬데믹으로 인해 소비의 중요성이 부각되고 있음.
- **코로나 상황으로 온라인 소비 증가**: 온라인 소비가 증가하는 추세, 개인투자자들의 주식시장 진입 증가.
- **주식에 대한 개인의 관심도 증가**
![image](https://github.com/rootofdata/Financial-Security-Institute-NH/assets/86711374/57298ebc-a7ef-42fa-9d5c-8e6c89eeeb4d)

### 아이디어 제안 및 분석
- **소비와 주가의 연관성 파악 방향성:** 온라인 소비와 주가지수의 상관관계를 분석하여 방향성 예측 모델 개발.
- **소비 시각화 자료:** 온라인 품목별 소비 데이터 시각화를 통해 주요 대분류 도출.
- **4개 대분류별 주가지수 설정:** 주가지수를 대분류에 따라 설정하고 관련 종목의 시가총액 기준 계산.
- **데이터의 Upsampling:** 온라인 소비 데이터 Upsampling을 통해 더 많은 데이터 생성.
- **다중 공선성 처리:** 상관계수 분석 및 PCA 기법을 사용하여 설명변수 축소 및 다중 공선성 해결.
- **주가지수에 대한 회귀분석 실행:** RandomForestRegressor 모델 등을 사용하여 주가지수 예측. 하이퍼파라미터 튜닝을 통한 모델 성능 개선.
- **회귀분석식에 쓰인 설명변수들의 중요도 분석:** PCA를 통한 변수 축소 후 모델의 설명변수 중요도 분석.
- **PoC를 위한 실제값과 주가 방향성을 예측한 값의 비교:** 모델 검증을 통해 실제값과 예측값의 방향성 일치 확인.
	MSE	R2MSE	Variance score
RandomForestRegressor	0.093	0.305	0.750
GBMR80egressor	0.115	0.339	0.692
XGBRegressor	0.102	0.319	0.727
LGBMGRegressor	0.579	0.761	-0.556

### 분석 요약
- 온라인 소비와 주가지수 간 강한 양의 상관관계 확인.  
- 주요 대분류 중 e상품/서비스가 주가 방향성을 예측하는데 중요한 역할.  
- 다중 공선성 처리와 변수 축소를 통해 모델의 정확도 향상.  
- PoC를 통해 모델의 예측 정확성 확인.  
![image](https://github.com/rootofdata/Financial-Security-Institute-NH/assets/86711374/25ce7814-1407-411e-9520-1c9ad43d66ad)

### 분석 결과
- 소비와 밀접한 관계를 형성하고 있는 지표들을 통해 기대 수익률을 높일 수 있다.  
- 회귀모형을 이용한 미래 주가 예측 : 소비와 관련된 설명변수들 중 가장 상관관계가 큰 변수를 찾을 수 있었다.
 -  예를 들어, 주식투자에 있어서 10대와 20대보다는 30대 이상의 연령대가 보여주는 소비 패턴이 주가와 연관성이 컸다. 따라서 주가지수와 상관관계가 큰 설명변수들의 움직임을 주시한다면, 주가 변동을 미리 예측할 수 있다.  
- 결과적으로 이에 따른 투자가 이루어진다면 기대 수익률을 높일 수 있고 성공적인 투자를 이끌 수 있을 것이다.  

### 기대효과
**1. 소비와 밀접한 관계를 형성하고 있는 지표들을 통해 기대 수익률을 높일 수 있다.**    
소비와 관련된 설명변수들 중 가장 상관관계가 큰 변수를 찾을 수 있었다. 예를 들어, 주식투자에 있어서 10대와 20대보다는 30대 이상의 연령대가 보여주는 소비 패턴이 주가와 연관성이 컸다. 따라서 주가지수와 상관관계가 큰 설명변수들의 움직임을 주시한다면, 주가 변동을 미리 예측할 수 있다.  
**2. 회귀모형을 이용한 미래 주가 예측**  
 본 프로젝트에서 구현한 회귀모형을 가지고 미래 주가의 방향성을 예측하여 투자자들에게 참고할 만한 자료로 활용될 수 있다. 이러한 회귀모형으로 미래에 대한 주가의 방향성을 예측하였다면 투자자들은 그와 관련된 기업을 찾아 투자하는 것에 있어 선택의 폭을 좁힐 수 있고 투자 위험을 감소시킬 수 있다.  
**3. 회귀모형의 발전 가능성**   
 이번 회귀모형은 데이터의 수가 많이 부족했다. 기준년월을 설정하는 것도 5개뿐이라서 100% 성능을 발휘하지 못했다. 하지만 이번 프로젝트로 개발한 회귀모형이 예측한 결과값이 실제값과 차이가 크게 나타나지 않았다. 이 부분은 매우 긍정적이라고 생각한다. 따라서 앞으로 데이터의 양이 늘어난다면 더욱 정밀하고 정확한 모델로 발전할 수 있을 것이다.

### 활용 데이터
1.BC카드 온라인 품목별 소비 데이터
2.KRX한국거래소 전종목 등락률 http://data.krx.co.kr/contents/MDC/MAIN/main/index.cmd
3.KRX한국거래소 전종목 시세 http://data.krx.co.kr/contents/MDC/MAIN/main/index.cmd
4.온라인 쇼핑 동향조사 https://kosis.kr/index/index.do
5.소비자심리지수 https://kosis.kr/index/index.do
6.민간소비증감률(실질, 계절조정 전기대비) https://ecos.bok.or.kr/jsp/vis/keystat/#/key
7.코로나 확진자 수 http://ncov.mohw.go.kr/
8.소비자 물가지수 https://kostat.go.kr/incomeNcpi/cpi/cpi_td/2/1/index.action?bmode=cpidtval
9.경제심리지수  https://ecos.bok.or.kr/jsp/vis/keystat/#/key
